<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üî• –¢–∞–π–º–µ—Ä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800&family=Urbanist:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary: #ff416c;
            --secondary: #ff4b2b;
            --accent: #4cc9f0;
            --success: #72efdd;
            --warning: #f9c74f;
            --dark: #1a1a2e;
            --darker: #161033;
            --light: #f8f9fa;
            --gray: #6c757d;
            --card-bg: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(255, 255, 255, 0.07);
            --border-radius: 20px;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        body {
            font-family: 'Urbanist', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            min-height: 100vh;
            padding: 15px;
            transition: var(--transition);
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            z-index: -1;
        }
        
        body.fullscreen {
            padding: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            overflow: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 25, 65, 0.85);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }
        
        body.fullscreen .container {
            max-width: 100%;
            height: 100vh;
            border-radius: 0;
            padding: 15px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 5px;
            color: var(--success);
            font-family: 'Poppins', sans-serif;
            font-size: 2.2rem;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 10px rgba(114, 239, 221, 0.3);
            flex: 1;
            min-width: 250px;
        }
        
        body.fullscreen h1 {
            font-size: 1.8rem;
            margin-bottom: 0;
        }
        
        .subtitle {
            text-align: center;
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.1rem;
            font-weight: 500;
            opacity: 0.9;
        }
        
        .fullscreen-btn {
            background: var(--card-bg);
            color: var(--accent);
            border: none;
            border-radius: 12px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.3rem;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            flex-shrink: 0;
        }
        
        .fullscreen-btn:hover {
            background: rgba(76, 201, 240, 0.15);
            transform: scale(1.08) rotate(5deg);
        }
        
        .fullscreen-btn:active {
            transform: scale(0.95);
        }
        
        .control-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(8px);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            min-width: 140px;
        }
        
        label {
            font-size: 0.95rem;
            color: var(--warning);
            font-weight: 600;
            text-align: center;
        }
        
        select, button {
            padding: 12px 16px;
            border: none;
            border-radius: 14px;
            font-family: 'Urbanist', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        select {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23f9c74f' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
        }
        
        select:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(114, 239, 221, 0.3);
        }
        
        .action-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 700;
            letter-spacing: 0.5px;
            min-height: 50px;
            box-shadow: 0 4px 15px rgba(255, 65, 108, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .action-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -60%;
            width: 20px;
            height: 200%;
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(25deg);
            transition: var(--transition);
        }
        
        .action-btn:hover::after {
            left: 120%;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 65, 108, 0.6);
        }
        
        .action-btn:active {
            transform: translateY(0);
        }
        
        .action-btn:disabled {
            background: linear-gradient(45deg, #5a5a72, #4a4a62);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.7;
        }
        
        .action-btn:disabled:hover::after {
            display: none;
        }
        
        .timer-display {
            text-align: center;
            margin-bottom: 25px;
            padding: 25px;
            background: rgba(10, 5, 35, 0.7);
            border-radius: var(--border-radius);
            border: 2px solid rgba(76, 201, 240, 0.4);
            position: relative;
            overflow: hidden;
            flex-grow: 1;
        }
        
        .timer-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(80, 213, 255, 0.1) 0%, transparent 70%);
            z-index: 0;
            animation: rotate 15s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        body.fullscreen .timer-display {
            padding: 20px 15px;
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .time {
            font-size: 4.5rem;
            font-weight: 800;
            font-family: 'Poppins', sans-serif;
            margin: 10px 0;
            color: var(--success);
            text-shadow: 0 0 15px rgba(114, 239, 221, 0.5);
            position: relative;
            z-index: 1;
            line-height: 1;
            letter-spacing: -2px;
        }
        
        body.fullscreen .time {
            font-size: 6rem;
            margin: 5px 0;
        }
        
        .exercise-info {
            font-size: 1.7rem;
            font-weight: 700;
            color: white;
            margin: 12px 0 8px;
            min-height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        body.fullscreen .exercise-info {
            font-size: 2rem;
            min-height: 60px;
        }
        
        .phase-info {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--warning);
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }
        
        body.fullscreen .phase-info {
            font-size: 1.5rem;
        }
        
        .circle-info {
            font-size: 1.1rem;
            color: #a3b5cc;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }
        
        body.fullscreen .circle-info {
            font-size: 1.3rem;
        }
        
        .exercise-details {
            margin-top: 22px;
            padding: 18px;
            background: var(--card-bg);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            border-left: 3px solid var(--warning);
        }
        
        .exercise-details::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--warning), transparent);
        }
        
        .next-exercise {
            font-size: 1.25rem;
            color: var(--accent);
            margin-bottom: 10px;
            display: none;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }
        
        .next-exercise.show {
            display: block;
        }
        
        .next-exercise::before {
            content: "‚è≠Ô∏è";
            margin-right: 8px;
        }
        
        .next-exercise span {
            font-weight: 700;
            color: var(--success);
        }
        
        .technique {
            font-size: 1.05rem;
            color: #d1d8e8;
            line-height: 1.5;
            font-style: normal;
            margin-top: 12px;
            position: relative;
            z-index: 1;
            text-align: left;
        }
        
        .technique::before {
            content: "üí°";
            margin-right: 8px;
        }
        
        .hint-toggle {
            background: rgba(76, 201, 240, 0.15);
            color: var(--accent);
            border: 1px solid rgba(76, 201, 240, 0.3);
            border-radius: 50px;
            padding: 8px 15px;
            font-size: 0.9rem;
            cursor: pointer;
            margin-top: 12px;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            width: auto;
            align-self: flex-start;
        }
        
        .hint-toggle:hover {
            background: rgba(76, 201, 240, 0.25);
            transform: translateX(3px);
        }
        
        .hint-toggle i {
            font-size: 0.9rem;
        }
        
        .status {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--warning);
            text-align: center;
            margin: 20px 0 15px;
            min-height: 30px;
            padding: 8px 15px;
            background: rgba(249, 199, 79, 0.1);
            border-radius: 12px;
            border-left: 3px solid var(--warning);
        }
        
        body.fullscreen .status {
            font-size: 1.5rem;
            margin: 15px 0 10px;
        }
        
        .workout-list {
            background: var(--card-bg);
            backdrop-filter: blur(5px);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 300px;
            overflow-y: auto;
        }
        
        .workout-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .workout-list::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .workout-list::-webkit-scrollbar-thumb {
            background: rgba(76, 201, 240, 0.5);
            border-radius: 10px;
        }
        
        body.fullscreen .workout-list {
            margin-top: 10px;
            max-height: 200px;
        }
        
        .workout-list h3 {
            color: var(--accent);
            margin-bottom: 15px;
            text-align: center;
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            position: relative;
            padding-bottom: 8px;
        }
        
        .workout-list h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--accent);
            border-radius: 3px;
        }
        
        .exercise-item {
            padding: 14px;
            margin: 8px 0;
            background: rgba(30, 25, 65, 0.6);
            border-radius: 14px;
            display: flex;
            justify-content: space-between;
            transition: var(--transition);
            cursor: pointer;
            border-left: 4px solid transparent;
            align-items: center;
        }
        
        .exercise-item:hover {
            background: rgba(30, 25, 65, 0.8);
            transform: translateX(5px);
        }
        
        .exercise-item.active {
            background: rgba(76, 201, 240, 0.15);
            border-left: 4px solid var(--accent);
            transform: translateX(0);
            box-shadow: 0 0 0 2px rgba(76, 201, 240, 0.3);
        }
        
        .exercise-item.completed {
            opacity: 0.6;
            color: #a3b5cc;
            background: rgba(30, 25, 65, 0.4);
        }
        
        .exercise-item.completed::before {
            content: "‚úì";
            color: var(--success);
            margin-right: 10px;
            font-weight: bold;
        }
        
        .exercise-number {
            background: var(--card-bg);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 12px;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .exercise-name {
            flex: 1;
            text-align: left;
            font-weight: 500;
            font-size: 1.05rem;
            line-height: 1.3;
        }
        
        .exercise-duration {
            background: rgba(114, 239, 221, 0.15);
            color: var(--success);
            padding: 4px 10px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.95rem;
            min-width: 70px;
            text-align: center;
            flex-shrink: 0;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 15px;
            width: 100%;
            max-width: 300px;
        }
        
        .volume-control i {
            font-size: 1.3rem;
            color: var(--warning);
            min-width: 25px;
            text-align: center;
        }
        
        .volume-slider {
            flex-grow: 1;
            height: 6px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            position: relative;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
        }
        
        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: var(--success);
        }
        
        .volume-value {
            min-width: 55px;
            text-align: center;
            font-weight: 700;
            color: var(--warning);
        }
        
        .keep-alive-info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(30, 25, 65, 0.9);
            backdrop-filter: blur(5px);
            padding: 10px 18px;
            border-radius: 14px;
            font-size: 0.95rem;
            color: var(--warning);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 1000;
            border: 1px solid rgba(249, 199, 79, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(200%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: 600;
        }
        
        .keep-alive-info.active {
            transform: translateX(0);
        }
        
        .keep-alive-info.wakelock {
            color: var(--success);
            border-color: rgba(114, 239, 221, 0.4);
        }
        
        .keep-alive-info i {
            font-size: 1.1rem;
        }
        
        .pulse {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--warning);
            border-radius: 50%;
            margin-left: 8px;
            animation: pulse 1.5s infinite;
        }
        
        .pulse.success {
            background: var(--success);
        }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.4s ease-out forwards;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 1.9rem;
            }
            
            .control-panel {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-group {
                width: 100%;
                min-width: auto;
            }
            
            .time {
                font-size: 3.8rem;
            }
            
            body.fullscreen .time {
                font-size: 5rem;
            }
            
            .exercise-info {
                font-size: 1.5rem;
                min-height: 50px;
            }
            
            body.fullscreen .exercise-info {
                font-size: 1.8rem;
            }
            
            .volume-control {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .volume-slider {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
                border-radius: 16px;
            }
            
            h1 {
                font-size: 1.6rem;
                margin-bottom: 0;
            }
            
            .subtitle {
                font-size: 1rem;
                margin-bottom: 15px;
            }
            
            .fullscreen-btn {
                width: 42px;
                height: 42px;
                font-size: 1.1rem;
            }
            
            .time {
                font-size: 3.2rem;
            }
            
            body.fullscreen .time {
                font-size: 4.2rem;
            }
            
            .exercise-info {
                font-size: 1.4rem;
                min-height: 45px;
            }
            
            body.fullscreen .exercise-info {
                font-size: 1.6rem;
            }
            
            .phase-info {
                font-size: 1.15rem;
            }
            
            .circle-info {
                font-size: 1rem;
            }
            
            .next-exercise {
                font-size: 1.1rem;
            }
            
            .technique {
                font-size: 0.95rem;
            }
            
            .workout-list h3 {
                font-size: 1.2rem;
            }
            
            .status {
                font-size: 1.2rem;
                padding: 6px 10px;
            }
            
            .exercise-item {
                padding: 10px 12px;
            }
            
            .exercise-name {
                font-size: 0.95rem;
            }
            
            .exercise-duration {
                font-size: 0.85rem;
                min-width: 60px;
                padding: 3px 8px;
            }
            
            .hint-toggle {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }
        
        @media (max-height: 700px) and (orientation: landscape) {
            body.fullscreen .container {
                padding: 10px;
            }
            
            body.fullscreen .timer-display {
                padding: 15px 10px;
            }
            
            body.fullscreen .time {
                font-size: 4rem;
            }
            
            body.fullscreen .exercise-info {
                font-size: 1.5rem;
                min-height: 40px;
            }
            
            .workout-list {
                display: none;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
        @keyframes buttonPulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }
        
        .pulse-animation {
            animation: buttonPulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <div class="keep-alive-info" id="keepAliveInfo">
        <i class="fas fa-bolt"></i> –≠–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω <span class="pulse"></span>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üî• –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ñ–∏—Ä–æ—Å–∂–∏–≥–∞—Ç–µ–ª—å</h1>
            <button class="fullscreen-btn" id="fullscreenBtn" title="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º">
                <i class="fas fa-expand"></i>
            </button>
        </div>
        
        <div class="subtitle">–¢–∞–π–º–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è–º–∏</div>
        
        <div class="control-panel">
            <div class="control-group">
                <label for="programSelect">–ü—Ä–æ–≥—Ä–∞–º–º–∞:</label>
                <select id="programSelect">
                    <option value="">–ó–∞–≥—Ä—É–∑–∏—Ç—å...</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="circles">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É–≥–æ–≤:</label>
                <select id="circles">
                    <option value="3">3 –∫—Ä—É–≥–∞</option>
                    <option value="4">4 –∫—Ä—É–≥–∞</option>
                    <option value="5" selected>5 –∫—Ä—É–≥–æ–≤</option>
                    <option value="6">6 –∫—Ä—É–≥–æ–≤</option>
                    <option value="7">7 –∫—Ä—É–≥–æ–≤</option>
                    <option value="8">8 –∫—Ä—É–≥–æ–≤</option>
                    <option value="9">9 –∫—Ä—É–≥–æ–≤</option>
                </select>
            </div>
            
            <div class="control-group">
                <button class="action-btn" id="loadProgramBtn">
                    <i class="fas fa-download"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å
                </button>
            </div>
            
            <div class="control-group">
                <button class="action-btn" id="startBtn">
                    <i class="fas fa-play"></i> –°—Ç–∞—Ä—Ç
                </button>
            </div>
            
            <div class="control-group">
                <button class="action-btn" id="pauseBtn" disabled>
                    <i class="fas fa-pause"></i> –ü–∞—É–∑–∞
                </button>
            </div>
            
            <div class="control-group">
                <button class="action-btn" id="resetBtn">
                    <i class="fas fa-redo"></i> –°–±—Ä–æ—Å
                </button>
            </div>
            
            <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" id="volume" min="0" max="1" step="0.1" value="1" class="volume-slider">
                <span id="volumeValue" class="volume-value">100%</span>
            </div>
        </div>
        
        <div class="timer-display">
            <div class="time" id="timer">45</div>
            <div class="exercise-info" id="exerciseName">–î–∂–∞–º–ø –¥–∂–µ–∫</div>
            <div class="phase-info" id="phase">–†–∞–±–æ—Ç–∞</div>
            <div class="circle-info" id="circleInfo">–ö—Ä—É–≥: 1/5</div>
            
            <div class="exercise-details">
                <div class="next-exercise" id="nextExercise">
                    –î–∞–ª–µ–µ: <span id="nextExerciseName">–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è</span>
                </div>
                <div class="technique" id="technique">
                    –ü—Ä—ã–∂–∫–∏ —Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ–º —Ä—É–∫ –∏ –Ω–æ–≥. –î–µ—Ä–∂–∏—Ç–µ —Å–ø–∏–Ω—É –ø—Ä—è–º–æ–π.
                </div>
                <button class="hint-toggle" id="hintToggle">
                    <i class="fas fa-bullhorn"></i> –û–∑–≤—É—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É
                </button>
            </div>
        </div>
        
        <div class="status" id="status">–ì–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</div>
        
        <div class="workout-list">
            <h3>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ –∫—Ä—É–≥–µ:</h3>
            <div id="exercisesList"></div>
        </div>
    </div>

    <script>
        // ================= –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –£–ü–†–ê–ñ–ù–ï–ù–ò–ô =================
        let exercises = [
    {
        name: "–ë—ã—Å—Ç—Ä—ã–π –±–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ —Å –∑–∞—Ö–ª—ë—Å—Ç–æ–º –≥–æ–ª–µ–Ω–∏ (High Knees + Heel Kicks)",
        technique: "–í—Å—Ç–∞–Ω—å—Ç–µ –ø—Ä—è–º–æ, –Ω–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á. –ë–µ–≥–∏—Ç–µ –Ω–∞ –º–µ—Å—Ç–µ, –ø–æ–ø–µ—Ä–µ–º–µ–Ω–Ω–æ –≤—ã—Å–æ–∫–æ –ø–æ–¥–Ω–∏–º–∞—è –∫–æ–ª–µ–Ω–∏ (–¥–æ —É—Ä–æ–≤–Ω—è —Ç–∞–∑–∞ –∏–ª–∏ –≤—ã—à–µ) –∏ –∑–∞—Ç–µ–º —É–¥–∞—Ä—è—è –ø—è—Ç–∫–∞–º–∏ –ø–æ —è–≥–æ–¥–∏—Ü–∞–º. –î–µ—Ä–∂–∏—Ç–µ –∫–æ—Ä–ø—É—Å –ø—Ä—è–º–æ, —Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ä—É–∫–∞–º–∏ –∫–∞–∫ –ø—Ä–∏ –±–µ–≥–µ. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤—ã—Å–æ–∫–∏–π —Ç–µ–º–ø, —Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Å–¥–≤–∏–≥–∞—Ç—å—Å—è —Å –º–µ—Å—Ç–∞."
    },
    {
        name: "–ë–æ–∫–æ–≤–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ä—É–∫–∞–º–∏ –ø–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ",
        technique: "–ü–æ–≤–∏—Å–Ω–∏—Ç–µ –Ω–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ –ø—Ä—è–º—ã–º —Ö–≤–∞—Ç–æ–º (–ª–∞–¥–æ–Ω–∏ –æ—Ç —Å–µ–±—è). –ù–æ–≥–∏ –º–æ–∂–Ω–æ —Å–ª–µ–≥–∫–∞ —Å–æ–≥–Ω—É—Ç—å –∏–ª–∏ —Å–∫—Ä–µ—Å—Ç–∏—Ç—å –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏. –ü–µ—Ä–µ–º–µ—â–∞–π—Ç–µ—Å—å –≤–±–æ–∫, –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –æ—Ç–ø—É—Å–∫–∞—è –æ–¥–Ω—É —Ä—É–∫—É –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—è –µ–µ –¥–∞–ª—å—à–µ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–≤–∏–∂–µ–Ω–∏—è, –∑–∞—Ç–µ–º –ø–æ–¥—Ç—è–≥–∏–≤–∞—è –≤—Ç–æ—Ä—É—é —Ä—É–∫—É. –î–≤–∏–≥–∞–π—Ç–µ—Å—å –ø–ª–∞–≤–Ω–æ, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—è –∫–∞–∂–¥—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç. –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã."
    },
    {
        name: "–ë—ë—Ä–ø–∏",
        technique: "1. –ò–∑ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç–æ—è –ø—Ä–∏—Å—è–¥—å—Ç–µ, —É–ø—Ä–∏—Ç–µ—Å—å –ª–∞–¥–æ–Ω—è–º–∏ –≤ –ø–æ–ª. 2. –ü—Ä—ã–∂–∫–æ–º –æ—Ç–±—Ä–æ—Å—å—Ç–µ –Ω–æ–≥–∏ –Ω–∞–∑–∞–¥ –≤ –ø–ª–∞–Ω–∫—É. 3. –°–¥–µ–ª–∞–π—Ç–µ –æ—Ç–∂–∏–º–∞–Ω–∏–µ (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏). 4. –ü—Ä—ã–∂–∫–æ–º –ø–æ–¥—Ç—è–Ω–∏—Ç–µ –Ω–æ–≥–∏ –∫ —Ä—É–∫–∞–º. 5. –í—ã–ø—Ä—ã–≥–Ω–∏—Ç–µ –≤–≤–µ—Ä—Ö —Å —Ö–ª–æ–ø–∫–æ–º –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π."
    },
    {
        name: "–û—Ç–∂–∏–º–∞–Ω–∏—è —Å –Ω–æ–≥–∞–º–∏ –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–∏–∏ (Raised-Leg Pushups)",
        technique: "–ü—Ä–∏–º–∏—Ç–µ —É–ø–æ—Ä –ª—ë–∂–∞, –ø–æ—Å—Ç–∞–≤–∏–≤ –Ω–æ–≥–∏ –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–∏–µ (—Å–∫–∞–º—å—é, –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –º—è—á). –†—É–∫–∏ –Ω–∞ –ø–æ–ª—É –ø–æ–¥ –ø–ª–µ—á–∞–º–∏. –¢–µ–ª–æ –æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä—è–º—É—é –ª–∏–Ω–∏—é –æ—Ç –≥–æ–ª–æ–≤—ã –¥–æ –ø—è—Ç, —Ç–∞–∑ –Ω–µ –ø—Ä–æ–≤–∏—Å–∞–µ—Ç. –ù–∞ –≤–¥–æ—Ö–µ —Å–æ–≥–Ω–∏—Ç–µ –ª–æ–∫—Ç–∏, –æ–ø—É—Å–∫–∞—è –≥—Ä—É–¥—å –∫ –ø–æ–ª—É. –õ–æ–∫—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–∞–¥ –ø–æ–¥ —É–≥–ª–æ–º 45-60¬∞. –ù–∞ –≤—ã–¥–æ—Ö–µ –º–æ—â–Ω–æ –æ—Ç–æ–∂–º–∏—Ç–µ—Å—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ. –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ —Å–º–µ—â–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≤–µ—Ä—Ö –≥—Ä—É–¥–∏ –∏ –ø–ª–µ—á–∏."
    },
    {
        name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ–º –∏ –ø–∞—É–∑–æ–π (Jumping Squats + Pause)",
        technique: "–ü–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≥–ª—É–±–æ–∫–∏–π –ø—Ä–∏—Å–µ–¥, –æ—Ç–≤–æ–¥—è —Ç–∞–∑ –Ω–∞–∑–∞–¥ –∏ —Å–≥–∏–±–∞—è –∫–æ–ª–µ–Ω–∏ –¥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ –±–µ–¥–µ—Ä —Å –ø–æ–ª–æ–º –∏–ª–∏ –Ω–∏–∂–µ. –í –Ω–∏–∂–Ω–µ–π —Ç–æ—á–∫–µ –∑–∞–º—Ä–∏—Ç–µ –Ω–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã (–ø–∞—É–∑–∞). –ó–∞—Ç–µ–º –∏–∑ —ç—Ç–æ–≥–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –º–æ—â–Ω–æ –≤—ã–ø—Ä—ã–≥–Ω–∏—Ç–µ –≤–≤–µ—Ä—Ö, –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø—Ä—è–º–ª—è—è –Ω–æ–≥–∏ –∏ –æ—Ç—Ä—ã–≤–∞—è—Å—å –æ—Ç –ø–æ–ª–∞. –ú—è–≥–∫–æ –ø—Ä–∏–∑–µ–º–ª–∏—Ç–µ—Å—å –Ω–∞ —Å–ª–µ–≥–∫–∞ —Å–æ–≥–Ω—É—Ç—ã–µ –Ω–æ–≥–∏ –∏ —Å—Ä–∞–∑—É —É—Ö–æ–¥–∏—Ç–µ –≤ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏—Å–µ–¥ —Å –ø–∞—É–∑–æ–π."
    },
    {
        name: "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è",
        technique: "–î–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö: –≤–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω—É —Ö–≤–∞—Ç–æ–º —à–∏—Ä–µ –ø–ª–µ—á. –ù–∞ –≤—ã–¥–æ—Ö–µ –ø–æ–¥—Ç—è–Ω–∏—Ç–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–±–æ—Ä–æ–¥–æ–∫ –æ–∫–∞–∑–∞–ª—Å—è –Ω–∞–¥ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–æ–π. –ù–∞ –≤–¥–æ—Ö–µ –º–µ–¥–ª–µ–Ω–Ω–æ –æ–ø—É—Å—Ç–∏—Ç–µ—Å—å. –î–ª—è –∞–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏—Ö: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∏–∑–∫—É—é –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω—É, —Ç–µ–ª–æ –ø–æ–¥ —É–≥–ª–æ–º, –ø–æ–¥—Ç—è–≥–∏–≤–∞–π—Ç–µ –≥—Ä—É–¥—å –∫ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ."
    },
    {
        name: "–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º –Ω–æ–≥ —á–µ—Ä–µ–∑ –º—è—á",
        technique: "."
    },
    {
        name: "–õ—É–Ω–æ—Ö–æ–¥",
        technique: " –õ—É–Ω–æ—Ö–æ–¥"
    },
    {
        name: "–ë–æ–∫–æ–≤—ã–µ –≤—ã–ø–∞–¥—ã —Å —É–¥–µ—Ä–∂–∞–Ω–∏–µ–º (Lateral Lunges + Hold)",
        technique: "–í—Å—Ç–∞–Ω—å—Ç–µ –ø—Ä—è–º–æ, –Ω–æ–≥–∏ –≤–º–µ—Å—Ç–µ –∏–ª–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á. –°–¥–µ–ª–∞–π—Ç–µ —à–∏—Ä–æ–∫–∏–π —à–∞–≥ –≤–ø—Ä–∞–≤–æ, –ø–µ—Ä–µ–Ω–æ—Å—è –≤–µ—Å —Ç–µ–ª–∞ –Ω–∞ –ø—Ä–∞–≤—É—é –Ω–æ–≥—É –∏ —Å–≥–∏–±–∞—è –µ–µ –≤ –∫–æ–ª–µ–Ω–µ. –û—Ç–≤–µ–¥–∏—Ç–µ —Ç–∞–∑ –Ω–∞–∑–∞–¥, –¥–µ—Ä–∂–∞ –ª–µ–≤—É—é –Ω–æ–≥—É –ø—Ä—è–º–æ–π. –û–ø—É—Å—Ç–∏—Ç–µ—Å—å –¥–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –≥–ª—É–±–∏–Ω—ã (–±–µ–¥—Ä–æ –ø—Ä–∞–≤–æ–π –Ω–æ–≥–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É –∏–ª–∏ –≤—ã—à–µ). –ó–∞–¥–µ—Ä–∂–∏—Ç–µ—Å—å –≤ —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã (—É–¥–µ—Ä–∂–∞–Ω–∏–µ). –ó–∞—Ç–µ–º –æ—Ç—Ç–æ–ª–∫–Ω–∏—Ç–µ—Å—å –ø—Ä–∞–≤–æ–π –Ω–æ–≥–æ–π –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É. –°–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã –∫–æ–ª–µ–Ω–æ –æ–ø–æ—Ä–Ω–æ–π –Ω–æ–≥–∏ –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–æ –∑–∞ –Ω–æ—Å–æ–∫."
    },
    {
        name: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–ª–∞–Ω–∫–∞: –ø–µ—Ä–µ—Ö–æ–¥ –≤ –±–æ–∫–æ–≤—É—é –ø–ª–∞–Ω–∫—É —Å –ø–æ–¥—ä—ë–º–æ–º –±–µ–¥—Ä–∞ (Side Plank + Hip Lift)",
        technique: "–ù–∞—á–Ω–∏—Ç–µ —Å –ø–ª–∞–Ω–∫–∏ –Ω–∞ –ø—Ä—è–º—ã—Ö —Ä—É–∫–∞—Ö. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –∫–æ—Ä–ø—É—Å –≤–ø—Ä–∞–≤–æ, –ø–æ–¥–Ω–∏–º–∞—è –ø—Ä–∞–≤—É—é —Ä—É–∫—É –≤–≤–µ—Ä—Ö –∏ —Å—Ç–∞–≤—è —Å—Ç–æ–ø—ã –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –∏–ª–∏ –æ–¥–Ω—É –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–æ–π, –ø—Ä–∏–Ω–∏–º–∞—è –±–æ–∫–æ–≤—É—é –ø–ª–∞–Ω–∫—É. –í –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ –∑–∞–¥–µ—Ä–∂–∏—Ç–µ—Å—å, –∑–∞—Ç–µ–º –æ–ø—É—Å—Ç–∏—Ç–µ –±–µ–¥—Ä–∞ –≤–Ω–∏–∑, –ø–æ—á—Ç–∏ –∫–∞—Å–∞—è—Å—å –ø–æ–ª–∞, –∏ —Å–Ω–æ–≤–∞ –ø–æ–¥–Ω–∏–º–∏—Ç–µ –∏—Ö. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –æ–±—ã—á–Ω—É—é –ø–ª–∞–Ω–∫—É –Ω–∞ –ø—Ä—è–º—ã—Ö —Ä—É–∫–∞—Ö –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤ –ª–µ–≤—É—é —Å—Ç–æ—Ä–æ–Ω—É. –î–µ—Ä–∂–∏—Ç–µ –ø—Ä–µ—Å—Å –∏ —è–≥–æ–¥–∏—Ü—ã –≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏, —Ç–µ–ª–æ –æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä—è–º—É—é –ª–∏–Ω–∏—é."
    }
];

// –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∫–æ–º–ø–ª–µ–∫—Å–∞:
// –†–∞–±–æ—Ç–∞ –Ω–∞–¥ –∫–∞–∂–¥—ã–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ–º: 45 —Å–µ–∫
// –û—Ç–¥—ã—Ö –º–µ–∂–¥—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏: 15 —Å–µ–∫
// –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –æ—Ç–¥—ã—Ö: 60 —Å–µ–∫
// –ü–æ–≤—Ç–æ—Ä–∏—Ç—å 4‚Äì6 –∫—Ä—É–≥–æ–≤

        let workoutConfig = {
            workTime: 45, restTime: 15, circleRestTime: 60, countdownTime: 5
        };

        // ================= –ü–ï–†–ï–ú–ï–ù–ù–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø =================
        let currentTime = workoutConfig.workTime;
        let isRunning = false, isPaused = false;
        let currentPhase = 'work';
        let currentExerciseIndex = 0, currentCircle = 1, totalCircles = 5;
        let timerInterval = null, countdownActive = false, speechVolume = 1;
        let isFullscreen = false, wakeLock = null, mouseKeepAliveInterval = null;
        let speakTechnique = true; // –§–ª–∞–≥ –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏
        const wakeLockSupported = 'wakeLock' in navigator;

        // ================= –≠–õ–ï–ú–ï–ù–¢–´ DOM =================
        const timerElement = document.getElementById('timer');
        const exerciseNameElement = document.getElementById('exerciseName');
        const phaseElement = document.getElementById('phase');
        const circleInfoElement = document.getElementById('circleInfo');
        const statusElement = document.getElementById('status');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const circlesSelect = document.getElementById('circles');
        const exercisesListElement = document.getElementById('exercisesList');
        const volumeSlider = document.getElementById('volume');
        const volumeValue = document.getElementById('volumeValue');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const keepAliveInfo = document.getElementById('keepAliveInfo');
        
        // –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ö
        const nextExerciseElement = document.getElementById('nextExercise');
        const nextExerciseNameElement = document.getElementById('nextExerciseName');
        const techniqueElement = document.getElementById('technique');
        const hintToggleBtn = document.getElementById('hintToggle');

        // –ù–æ–≤—ã–π URL –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞
        const catalogUrl = 'https://raw.githubusercontent.com/CAMOPKAH/SportTrainDeepTabata/main/workouts/index.json  ';

        // ================= –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ù–§–û–†–ú–ê–¶–ò–ï–ô –û–ë –£–ü–†–ê–ñ–ù–ï–ù–ò–Ø–• =================
        function updateExerciseDetails() {
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ —Å–º–µ–Ω–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
            exerciseNameElement.classList.add('fade-in-up');
            setTimeout(() => {
                exerciseNameElement.classList.remove('fade-in-up');
            }, 500);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
            exerciseNameElement.textContent = exercises[currentExerciseIndex].name;
            techniqueElement.textContent = exercises[currentExerciseIndex].technique;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ª–µ–¥—É—é—â–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
            let nextIndex = currentExerciseIndex + 1;
            let nextCircle = currentCircle;
            
            if (nextIndex >= exercises.length) {
                nextIndex = 0;
                nextCircle = currentCircle + 1;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–µ–¥—É—é—â–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫—Ä—É–≥
            if (nextCircle <= totalCircles) {
                nextExerciseNameElement.textContent = exercises[nextIndex].name;
            } else {
                nextExerciseNameElement.textContent = "–ö–æ–Ω–µ—Ü —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏";
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –±–ª–æ–∫ "–°–ª–µ–¥—É—é—â–µ–µ" –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∞–∑—ã
            if (currentPhase === 'rest' || currentPhase === 'circleRest') {
                nextExerciseElement.classList.add('show');
            } else {
                nextExerciseElement.classList.remove('show');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
            updateActiveExercise();
        }
        
        function toggleTechniqueVoice() {
            speakTechnique = !speakTechnique;
            hintToggleBtn.innerHTML = speakTechnique ? 
                '<i class="fas fa-bullhorn"></i> –û–∑–≤—É—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É ‚úì' : 
                '<i class="fas fa-bullhorn"></i> –û–∑–≤—É—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ localStorage
            localStorage.setItem('speakTechnique', speakTechnique);
        }
        
        function speakExerciseWithTechnique() {
            const exercise = exercises[currentExerciseIndex];
            let textToSpeak = `–ù–∞—á–∏–Ω–∞–µ–º ${exercise.name}`;
            
            if (speakTechnique) {
                textToSpeak += `. ${exercise.technique}`;
            }
            
            speak(textToSpeak);
        }

        // ================= –ú–ï–•–ê–ù–ò–ó–ú–´ –ü–û–î–î–ï–†–ñ–ê–ù–ò–Ø –ê–ö–¢–ò–í–ù–û–°–¢–ò =================
        function startMouseMoveKeepAlive() {
            if (mouseKeepAliveInterval) return;
            
            mouseKeepAliveInterval = setInterval(() => {
                const x = Math.floor(Math.random() * 3);
                const y = Math.floor(Math.random() * 3);
                
                window.dispatchEvent(new MouseEvent('mousemove', {
                    view: window,
                    bubbles: true,
                    cancelable: true,
                    clientX: x,
                    clientY: y
                }));
                
            }, 10000);
            
            keepAliveInfo.innerHTML = '<i class="fas fa-bolt"></i> –≠–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω <span class="pulse"></span>';
            keepAliveInfo.classList.remove('wakelock');
            keepAliveInfo.classList.add('active');
        }

        function stopMouseMoveKeepAlive() {
            if (mouseKeepAliveInterval) {
                clearInterval(mouseKeepAliveInterval);
                mouseKeepAliveInterval = null;
                keepAliveInfo.classList.remove('active');
            }
        }

        async function requestWakeLock() {
            const isSecureContext = window.isSecureContext || 
                                   window.location.protocol === 'https:' || 
                                   window.location.hostname === 'localhost' ||
                                   window.location.hostname === '127.0.0.1';
            
            if (wakeLockSupported && isSecureContext) {
                try {
                    if (wakeLock !== null) return;
                    
                    wakeLock = await navigator.wakeLock.request('screen');
                    keepAliveInfo.innerHTML = '<i class="fas fa-bolt"></i> –≠–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω <span class="pulse success"></span>';
                    keepAliveInfo.classList.add('active', 'wakelock');
                    
                    wakeLock.addEventListener('release', () => {
                        keepAliveInfo.classList.remove('active');
                        wakeLock = null;
                        
                        if (isRunning && !isPaused) {
                            startMouseMoveKeepAlive();
                        }
                    });
                    
                    return;
                    
                } catch (err) {
                    console.error('–û—à–∏–±–∫–∞ Wake Lock:', err);
                }
            }
            
            startMouseMoveKeepAlive();
        }

        async function releaseKeepAlive() {
            stopMouseMoveKeepAlive();
            
            if (wakeLock !== null) {
                try {
                    await wakeLock.release();
                    wakeLock = null;
                } catch (err) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ Wake Lock:', err);
                }
            }
            
            keepAliveInfo.classList.remove('active');
        }

        // ================= –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –¢–†–ï–ù–ò–†–û–í–ö–ò =================
        async function startWorkout() {
            if (isRunning) return;
            
            isRunning = true;
            isPaused = false;
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            statusElement.textContent = '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å!';
            statusElement.style.color = '#72efdd';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ä—Ç–∞
            startBtn.classList.add('pulse-animation');
            setTimeout(() => {
                startBtn.classList.remove('pulse-animation');
            }, 1500);
            
            await requestWakeLock();
            speakExerciseWithTechnique();
            timerInterval = setInterval(updateTimer, 1000);
        }

        async function togglePause() {
            if (!isRunning) return;
            
            isPaused = !isPaused;
            
            if (isPaused) {
                clearInterval(timerInterval);
                pauseBtn.innerHTML = '<i class="fas fa-play"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
                statusElement.textContent = '–ü–∞—É–∑–∞';
                statusElement.style.color = '#f9c74f';
                speak("–ü–∞—É–∑–∞");
                
                await releaseKeepAlive();
            } else {
                timerInterval = setInterval(updateTimer, 1000);
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞';
                statusElement.textContent = '–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É';
                statusElement.style.color = '#72efdd';
                speak("–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º");
                
                await requestWakeLock();
            }
        }

        async function resetWorkout() {
            clearInterval(timerInterval);
            
            currentTime = workoutConfig.workTime;
            isRunning = false;
            isPaused = false;
            currentPhase = 'work';
            currentExerciseIndex = 0;
            currentCircle = 1;
            countdownActive = false;
            
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            pauseBtn.innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞';
            
            statusElement.textContent = '–ì–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏';
            statusElement.style.color = '#f9c74f';
            
            await releaseKeepAlive();
            
            updateDisplay();
            speak("–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞");
        }

        function updateTimer() {
            if (isPaused) return;
            
            if (currentTime <= workoutConfig.countdownTime && currentTime > 0) {
                if (!countdownActive) countdownActive = true;
                speakCountdown(currentTime);
            } else {
                countdownActive = false;
            }
            
            currentTime--;
            
            if (currentTime <= 0) {
                handleTimerComplete();
            }
            
            updateDisplay();
        }

        function handleTimerComplete() {
            countdownActive = false;
            
            switch(currentPhase) {
                case 'work':
                    speak("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ");
                    
                    if (currentExerciseIndex === exercises.length - 1) {
                        if (currentCircle === totalCircles) {
                            completeWorkout();
                            return;
                        } else {
                            currentPhase = 'circleRest';
                            currentTime = workoutConfig.circleRestTime;
                            // –í–æ –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞ –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏ –≥–æ–≤–æ—Ä–∏–º –æ —Å–ª–µ–¥—É—é—â–µ–º –∫—Ä—É–≥–µ
                            speak("–û—Ç–¥—ã—Ö –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏. –°–ª–µ–¥—É—é—â–∏–π –∫—Ä—É–≥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å " + 
                                  exercises[0].name.toLowerCase());
                        }
                    } else {
                        currentPhase = 'rest';
                        currentTime = workoutConfig.restTime;
                        // –í–æ –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞ –≥–æ–≤–æ—Ä–∏–º –æ —Å–ª–µ–¥—É—é—â–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏
                        const nextEx = exercises[currentExerciseIndex + 1];
                        speak("–û—Ç–¥—ã—Ö. –î–∞–ª–µ–µ: " + nextEx.name.toLowerCase());
                    }
                    break;
                    
                case 'rest':
                    currentExerciseIndex++;
                    currentPhase = 'work';
                    currentTime = workoutConfig.workTime;
                    speakExerciseWithTechnique();
                    break;
                    
                case 'circleRest':
                    currentCircle++;
                    currentExerciseIndex = 0;
                    currentPhase = 'work';
                    currentTime = workoutConfig.workTime;
                    
                    if (currentCircle <= totalCircles) {
                        speak(`–ù–∞—á–∏–Ω–∞–µ–º ${currentCircle} –∫—Ä—É–≥`);
                        speakExerciseWithTechnique();
                    }
                    break;
            }
            
            updateDisplay();
        }

        async function completeWorkout() {
            clearInterval(timerInterval);
            isRunning = false;
            statusElement.textContent = 'üéâ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!';
            statusElement.style.color = '#f9c74f';
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            
            await releaseKeepAlive();
            
            document.querySelectorAll('.exercise-item').forEach(item => {
                item.classList.add('completed');
            });
            
            speak("–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—ã –ø—Ä–æ–¥–µ–ª–∞–ª–∏ –æ–≥—Ä–æ–º–Ω—ã–π —Ç—Ä—É–¥!");
        }

        // ================= –§–£–ù–ö–¶–ò–ò –ó–ê–ì–†–£–ó–ö–ò –ü–†–û–ì–†–ê–ú–ú =================
        async function loadCatalog() {
            try {
                const response = await fetch(catalogUrl);
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞');
                const data = await response.json();
                
                const select = document.getElementById('programSelect');
                select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É</option>';
                
                data.programs.forEach(program => {
                    const option = document.createElement('option');
                    option.value = program.url;
                    option.textContent = program.name;
                    select.appendChild(option);
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞:', error);
                statusElement.textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é.';
            }
        }

        async function loadProgram(url) {
            if (!url) return;
            
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã');
                const data = await response.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                exercises = data.exercises;
                workoutConfig = data.config;
                document.querySelector('h1').textContent = `üî• ${data.name}`;
                document.querySelector('.subtitle').textContent = data.description || '–¢–∞–π–º–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è–º–∏';
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
                resetWorkout();
                updateExerciseList();
                statusElement.textContent = '–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!';
                speak("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞: " + data.name);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã:', error);
                statusElement.textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É.';
            }
        }

        // ================= –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =================
        function init() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏
            const savedSetting = localStorage.getItem('speakTechnique');
            if (savedSetting !== null) {
                speakTechnique = savedSetting === 'true';
            }
            hintToggleBtn.innerHTML = speakTechnique ? 
                '<i class="fas fa-bullhorn"></i> –û–∑–≤—É—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É ‚úì' : 
                '<i class="fas fa-bullhorn"></i> –û–∑–≤—É—á–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É';
            
            totalCircles = parseInt(circlesSelect.value);
            updateExerciseList();
            updateDisplay();
            
            startBtn.addEventListener('click', startWorkout);
            pauseBtn.addEventListener('click', togglePause);
            resetBtn.addEventListener('click', resetWorkout);
            hintToggleBtn.addEventListener('click', toggleTechniqueVoice);
            
            circlesSelect.addEventListener('change', () => {
                totalCircles = parseInt(circlesSelect.value);
                updateCircleInfo();
            });
            
            volumeSlider.addEventListener('input', (e) => {
                speechVolume = parseFloat(e.target.value);
                volumeValue.textContent = `${Math.round(speechVolume * 100)}%`;
            });
            
            fullscreenBtn.addEventListener('click', toggleFullscreen);
            
            const fullscreenEvents = ['fullscreenchange', 'webkitfullscreenchange', 
                                     'mozfullscreenchange', 'MSFullscreenChange'];
            fullscreenEvents.forEach(event => {
                document.addEventListener(event, updateFullscreenButton);
            });
            
            if (!('speechSynthesis' in window)) {
                statusElement.textContent = '–í–Ω–∏–º–∞–Ω–∏–µ: –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è';
                statusElement.style.color = '#ff416c';
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
            loadCatalog();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
            document.getElementById('loadProgramBtn').addEventListener('click', () => {
                const select = document.getElementById('programSelect');
                loadProgram(select.value);
            });
        }

        function updateExerciseList() {
            exercisesListElement.innerHTML = '';
            exercises.forEach((exercise, index) => {
                const div = document.createElement('div');
                div.className = 'exercise-item';
                div.id = `exercise-${index}`;
                
                div.innerHTML = `
                    <div class="exercise-number">${index + 1}</div>
                    <div class="exercise-name">${exercise.name}</div>
                    <div class="exercise-duration">45 —Å–µ–∫</div>
                `;
                
                div.addEventListener('click', () => {
                    if (!isRunning) {
                        currentExerciseIndex = index;
                        updateDisplay();
                    }
                });
                exercisesListElement.appendChild(div);
            });
        }

        function updateActiveExercise() {
            document.querySelectorAll('.exercise-item').forEach(item => {
                item.classList.remove('active', 'completed');
            });
            
            for (let i = 0; i < currentExerciseIndex; i++) {
                const item = document.getElementById(`exercise-${i}`);
                if (item) item.classList.add('completed');
            }
            
            const currentItem = document.getElementById(`exercise-${currentExerciseIndex}`);
            if (currentItem) currentItem.classList.add('active');
        }

        function updateDisplay() {
            timerElement.textContent = currentTime;
            phaseElement.textContent = getPhaseText(currentPhase);
            updateCircleInfo();
            updateExerciseDetails(); // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ö
        }

        function getPhaseText(phase) {
            switch(phase) {
                case 'work': return '–†–∞–±–æ—Ç–∞';
                case 'rest': return '–û—Ç–¥—ã—Ö';
                case 'circleRest': return '–û—Ç–¥—ã—Ö –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏';
                default: return '';
            }
        }

        function updateCircleInfo() {
            circleInfoElement.textContent = `–ö—Ä—É–≥: ${currentCircle}/${totalCircles}`;
        }

        function speak(text) {
            if (!('speechSynthesis' in window)) return;
            speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ru-RU';
            utterance.rate = 1.0;
            utterance.pitch = 1.0;
            utterance.volume = speechVolume;
            
            const voices = speechSynthesis.getVoices();
            const russianVoice = voices.find(voice => 
                voice.lang.includes('ru') || voice.lang.includes('RU'));
            
            if (russianVoice) utterance.voice = russianVoice;
            speechSynthesis.speak(utterance);
        }

        function speakCountdown(seconds) {
            if (seconds > 0 && seconds <= 5) speak(seconds.toString());
        }

        // ================= –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –†–ï–ñ–ò–ú =================
        function toggleFullscreen() {
            if (!isFullscreen) {
                enterFullscreen();
            } else {
                exitFullscreen();
            }
        }

        function enterFullscreen() {
            const element = document.documentElement;
            if (element.requestFullscreen) element.requestFullscreen();
            else if (element.mozRequestFullScreen) element.mozRequestFullScreen();
            else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();
            else if (element.msRequestFullscreen) element.msRequestFullscreen();
        }

        function exitFullscreen() {
            if (document.exitFullscreen) document.exitFullscreen();
            else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
            else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
            else if (document.msExitFullscreen) document.msExitFullscreen();
        }

        function updateFullscreenButton() {
            const fullscreenElement = document.fullscreenElement || 
                document.webkitFullscreenElement || 
                document.mozFullScreenElement || 
                document.msFullscreenElement;
            isFullscreen = !!fullscreenElement;
            
            if (isFullscreen) {
                fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i>';
                fullscreenBtn.title = '–í—ã–π—Ç–∏ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞';
                document.body.classList.add('fullscreen');
            } else {
                fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i>';
                fullscreenBtn.title = '–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º';
                document.body.classList.remove('fullscreen');
            }
        }

        // ================= –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô =================
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && isFullscreen) setTimeout(updateFullscreenButton, 100);
            
            if (e.code === 'Space') {
                e.preventDefault();
                if (isRunning) togglePause(); else startWorkout();
            }
            
            if (e.code === 'KeyR' && e.ctrlKey) {
                e.preventDefault();
                resetWorkout();
            }
            
            if (e.code === 'KeyF') {
                e.preventDefault();
                toggleFullscreen();
            }
            
            if (e.code === 'KeyH' && e.ctrlKey) {
                e.preventDefault();
                toggleTechniqueVoice();
            }
        });

        document.addEventListener('visibilitychange', async () => {
            if (document.visibilityState === 'visible' && isRunning && !isPaused) {
                try {
                    await requestWakeLock();
                } catch (err) {
                    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞:', err);
                }
            }
        });

        // ================= –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =================
        window.addEventListener('DOMContentLoaded', init);
        
        speechSynthesis.getVoices();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {};
        }
        
        window.addEventListener('beforeunload', () => {
            if (wakeLock !== null) wakeLock.release();
            if (mouseKeepAliveInterval) clearInterval(mouseKeepAliveInterval);
        });
    </script>
</body>
</html>

